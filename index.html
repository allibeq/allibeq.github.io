<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="./style.css">
    <title>Photoeditor SDK</title>
    <script src="./react.production.min.js"></script>
    <script src="./react-dom.production.min.js"></script>
    <script src="./react-dom-server.browser.production.min.js"></script>
    <script src="./styled-components.min.js"></script>
    <script src="./no-polyfills.js"></script>
    <script src="./index.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="buttons">
        <div class="buttons-ui">
        <div onclick="setBasic()">Basic</div>
        <div onclick="setAdvanced()">Advanced</div>
      </div>
      <div class="buttons-theme">
        <div onclick="darkTheme()">Dark</div>
        <div onclick="lightTheme()">Light</div>
      </div>
      </div>
      <div id="editor" style="width: 100%; height: 94%; position: absolute;"></div>
    </div>
    <script>
      let theme = 'dark';
      let userInterface = 'basic'; 
      let editor = editorInit(theme, userInterface);

      function setBasic() {
        userInterface = 'basic';
        editor.then(result => {
          console.log(result);
          result.close();
          editor = editorInit(theme, userInterface);
        });
      }

      function setAdvanced() {
        userInterface = 'advanced';
        editor.then(result => {
          console.log(result);
          result.close();
          editor = editorInit(theme, userInterface);
        });
      }

      function lightTheme() {
        theme = 'light';
        console.log('light theme', PhotoEditorSDK.PhotoEditorSDKUI);
        editor.then(result => {
          console.log(result);
          result.close();
          editor = editorInit(theme, userInterface);
        });
      }

      function darkTheme() {
        theme = 'dark';
        editor.then(result => {
          console.log(result);
          result.close();
          editor = editorInit(theme, userInterface);
        });
      }

      function editorInit(theme, userInterface) {
          return PhotoEditorSDK.PhotoEditorSDKUI.init({
          container: '#editor',
          library: {
            enableUpload: true,
          },
          // Please replace this with your license: https://img.ly/dashboard
          license: '{"owner":"Imgly Inc.","version":"2.4", ...}',
          watermark: {
            watermarkURI: './svg/watermark.svg',
            alignment: 'top-right',
            inset: 0.5,
            size: 0.6,
          },
          image: "https://images.unsplash.com/photo-1599713061074-9efa95376d3c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=975&q=80",
          assetBaseUrl: './assets',
          layout: userInterface,
          theme: theme,
          measurements: {
            canvas: {
              height: 560,
          },
          
          mainCanvasActionBar: {
              height: 48,
          },
          basicUIToolbar: {
            openHeight: {
              height: 560
            },
            closeHeight: {
              height: 560
            }
          },
          advancedUIToolbar: {
            height: 560
          }          
          },
          tools: ['library',  'adjustment', 'brush',  'overlay', 'text', 'transform', 'textdesign' ]
      });}
    </script>
  </body>
</html>